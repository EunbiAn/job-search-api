<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.mapper.job.CompanyResumeMapper">

    <insert id="addCompanyResume"  parameterType="egovframework.job.dto.CompanyResumeDTO">

        INSERT INTO COMPANYRESUME (age, place, job, payment, payment_type, ob_type, disease, career, pr, m_num, title)
        VALUES (#{age}, #{place}, #{job}, #{payment}, #{payment_type}, #{ob_type}, #{disease}, #{career}, #{pr}, #{m_num}, #{title})

       	<selectKey resultType="long" keyProperty="cr_num" order="AFTER">
        	SELECT LAST_INSERT_ID()
    	</selectKey>        
    </insert>
    
   <select id="selectCompanyResumeById" parameterType="Long" resultType="egovframework.job.vo.CompanyResumeVO">
        SELECT * FROM COMPANYRESUME WHERE cr_num = #{cr_num}
    </select>
    
</mapper>
